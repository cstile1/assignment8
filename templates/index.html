<!DOCTYPE html>
<!--
    Document Type Declaration (DOCTYPE)
    
    The <!DOCTYPE html> declaration defines the document type and version of HTML.
    It ensures that the browser interprets the document as an HTML5 document.
    This declaration is mandatory and should be the very first line in your HTML document.
-->

<html lang="en">
<!--
    <html> Tag
    
    The <html> element is the root element of an HTML page. It encapsulates all other elements
    within the document. The lang="en" attribute specifies that the language of the document is English,
    which aids in accessibility and SEO (Search Engine Optimization).
-->
<head>
    <!--
        <head> Section
        
        The <head> element contains meta-information about the HTML document, such as its title,
        character set, linked resources like CSS and JavaScript files, and other metadata.
        This information is not displayed directly on the web page.
    -->
    
    <meta charset="UTF-8">
    <!--
        <meta> Tag: Character Set
        
        The <meta charset="UTF-8"> tag specifies the character encoding for the HTML document.
        UTF-8 is a widely used encoding that supports virtually all characters from all languages,
        ensuring that text is rendered correctly.
    -->
    
    <title>Hello World & Calculator Demo</title>
    <!--
        <title> Tag
        
        The <title> element defines the title of the HTML document, which appears in the browser's
        title bar or tab. It is also used by search engines to understand the content of the page.
    -->
    
    <style>
        /*
            <style> Section: CSS Styles
            
            The <style> element allows you to embed CSS (Cascading Style Sheets) directly within
            the HTML document. CSS is used to style and layout web pages, controlling aspects
            like colors, fonts, spacing, and positioning.
        */
        
        body {
            /* 
                Styles for the <body> Element
                
                - font-family: Sets the font for the entire page to Arial, sans-serif.
                - text-align: Centers the text horizontally.
                - margin-top: Adds a 50-pixel margin at the top of the page for spacing.
            */
            font-family: Arial, sans-serif;
            text-align: center;
            margin-top: 50px;
        }
        
        .calculator {
            /* 
                Styles for Elements with the "calculator" Class
                
                - margin-top: Adds a 30-pixel margin above the calculator section to separate it
                  from other content.
            */
            margin-top: 30px;
        }
        
        input {
            /* 
                Styles for <input> Elements
                
                - margin: Adds a 5-pixel margin around input fields for spacing.
                - padding: Adds a 5-pixel padding inside input fields for better readability.
            */
            margin: 5px;
            padding: 5px;
        }
        
        button {
            /* 
                Styles for <button> Elements
                
                - padding: Adds 5 pixels of vertical padding and 10 pixels of horizontal padding
                  inside buttons to make them larger and more clickable.
            */
            padding: 5px 10px;
        }
        
        .result {
            /* 
                Styles for Elements with the "result" Class
                
                - margin-top: Adds a 10-pixel margin above the result display area.
                - font-weight: Makes the text bold to emphasize the result.
            */
            margin-top: 10px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <!--
        <body> Section
        
        The <body> element contains all the contents of an HTML document, such as text, images,
        links, buttons, and other media. Everything within the <body> tag is rendered on the
        web page and visible to users.
    -->
    
    <h1>Hello World</h1>
    <!--
        <h1> Tag: Heading
        
        The <h1> element represents the most important heading on the page. It is typically used
        for the main title or headline. Search engines give significant weight to <h1> tags for SEO.
    -->
    
    <div class="calculator">
        <!--
            <div> Element with "calculator" Class
            
            The <div> element is a generic container used to group other elements. The class="calculator"
            attribute assigns the "calculator" class to this <div>, allowing it to be styled using CSS.
            This section contains the calculator interface, including input fields and buttons.
        -->
        
        <h2>Calculator</h2>
        <!--
            <h2> Tag: Subheading
            
            The <h2> element represents a secondary heading, subordinate to <h1>. It introduces the
            calculator section of the page.
        -->
        
        <input type="number" id="a" placeholder="First number">
        <!--
            <input> Element: First Number Input
            
            - type="number": Specifies that the input should accept numeric values.
            - id="a": Assigns a unique identifier "a" to this input, allowing it to be accessed via JavaScript.
            - placeholder="First number": Displays the text "First number" inside the input field as a hint to the user.
        -->
        
        <input type="number" id="b" placeholder="Second number"><br>
        <!--
            <input> Element: Second Number Input
            
            - type="number": Specifies that the input should accept numeric values.
            - id="b": Assigns a unique identifier "b" to this input, allowing it to be accessed via JavaScript.
            - placeholder="Second number": Displays the text "Second number" inside the input field as a hint to the user.
            
            <br> Tag: Line Break
            
            Inserts a line break after the second input field, moving subsequent elements to the next line.
        -->
        
        <button id="add">Add</button>
        <!--
            <button> Element: Add Button
            
            - onclick="calculate('add')": Sets up an event handler that calls the JavaScript function "calculate"
              with the argument 'add' when the button is clicked.
            - "Add": The text displayed on the button.
        -->
        
        <button id="subtract">Subtract</button>
        <!--
            <button> Element: Subtract Button
            
            - onclick="calculate('subtract')": Sets up an event handler that calls the JavaScript function "calculate"
              with the argument 'subtract' when the button is clicked.
            - "Subtract": The text displayed on the button.
        -->
        
        <button id="multiply">Multiply</button>
        <!--
            <button> Element: Multiply Button
            
            - onclick="calculate('multiply')": Sets up an event handler that calls the JavaScript function "calculate"
              with the argument 'multiply' when the button is clicked.
            - "Multiply": The text displayed on the button.
        -->
        
        <button id="divide">Divide</button>
        <!--
            <button> Element: Divide Button
            
            - onclick="calculate('divide')": Sets up an event handler that calls the JavaScript function "calculate"
              with the argument 'divide' when the button is clicked.
            - "Divide": The text displayed on the button.
        -->
        
        <div class="result" id="result"></div>
        <!--
            <div> Element: Result Display
            
            - class="result": Assigns the "result" class to this <div>, allowing it to be styled using CSS.
            - id="result": Assigns a unique identifier "result" to this <div>, enabling it to be accessed and manipulated via JavaScript.
            
            This <div> is used to display the result of the arithmetic operation or any error messages.
        -->
    </div>
    <script>
async function calculate(operation) {
    const a = parseFloat(document.getElementById('a').value);
    const b = parseFloat(document.getElementById('b').value);
    const resultElement = document.getElementById('result');

    try {
        const response = await fetch('/api/' + operation, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ a: a, b: b })
        });

        let data;
        try {
            data = await response.json();
        } catch {
            data = {};
        }

        if (response.ok && data.result !== undefined) {
            resultElement.innerText = 'Calculation Result: ' + data.result;
        } else if (data.error) {
            resultElement.innerText = 'Error: ' + data.error;
        } else {
            resultElement.innerText = 'Error: Cannot divide by zero!';
        }
    } catch (error) {
        console.error('Fetch error:', error);
        resultElement.innerText = 'Error: ' + error.message;
    }
}

document.getElementById("add").addEventListener("click", () => calculate("add"));
document.getElementById("subtract").addEventListener("click", () => calculate("subtract"));
document.getElementById("multiply").addEventListener("click", () => calculate("multiply"));
document.getElementById("divide").addEventListener("click", () => calculate("divide"));
</script>

</body>
</html>
